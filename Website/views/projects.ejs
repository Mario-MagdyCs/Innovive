<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Upcycling Projects</title>
	<link href="css/bootstrap.min.css" rel="stylesheet" >
	<link href="css/font-awesome.min.css" rel="stylesheet" >
	<link href="css/global.css" rel="stylesheet">
	<link href="css/projects.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
	<link rel="preload" href="../images/Blog_img1.jpg" as="image">
	<script src="js/bootstrap.bundle.min.js"></script>
	<script src="https://kit.fontawesome.com/854a317bd6.js" crossorigin="anonymous"></script>
</head>
<body>

<section id="top" class="bg_green pt-2 pb-2">
<div class="container-xl">
 <div class="row top_1">
  <div class="col-md-8">
   <div class="top_1l">
    <ul class="mb-0">
		<li class="text-white d-inline-block">Welcome to Electronics Recycling </li>
		<li class="text-white d-inline-block mx-2">| </li>
		<li class="d-inline-block"> <a class="text-white " href="#">How to Find Us</a> </li>
		<li class="text-white d-inline-block mx-2">| </li>
		<li class="d-inline-block"> <a class="text-white " href="#">Give Feedback</a> </li>
	</ul>
   </div>
  </div>
  <div class="col-md-4">
   <div class="top_1r text-end">
	<div class="input-group">
		<input type="text" class="form-control border-0 bg-transparent text-white search-input" placeholder="Search Keyword">
		<span class="input-group-btn">
		  <button class="btn btn-primary col_green bg-transparent rounded-0 p-1 px-3 border-0 search-btn" type="button">
			<i class="fa fa-search"></i>
		  </button>
		</span>
	  </div>	  
   </div>
  </div>
 </div>
</div>
</section>

<%- include('partials/header')%>

<section id="center" class="center_blog">
   <div class="center_om bg_back">
     <div class="container-xl">
  <div class="row center_o1 text-center">
     <div class="col-md-12">
	    <h2 class="text-white text-uppercase font_50">Upcycling Projects</h2>
	    <h6 class="col_green  fw-bold mb-0 mt-3"><a class="text-light" href="/">Home</a> <span class="mx-2 text-white-50">/</span> Projects</h6>
	    
	 </div>
  </div>
 </div>
   </div>   
 </section>
 
 <!-- Section of the Day Carousel -->
 <section class="section-of-day">
	<div class="container-xl">
		<div class="section-title">
			<h2>Projects of the Day</h2>
		</div>
		<div class="carousel-container">
			<div class="carousel-track" id="carouselTrack">
				<div class="carousel-card">
					<div class="card-image">
						<div class="image-overlay">
							<a href="/projects/681512849fd55821c9e3779f">View Project →</a>
						  </div>
						<img src="/images/Projects/4.png" alt="Cardboard Furniture">
					</div>
					<div class="card-content">
					  <h4>Hanging Mini Planter Trio Cups</h4>
					  <div class="project-meta">
						<span class="duration">1-2 hours</span>
						<span class="level beginner">Easy</span>
					  </div>
					</div>
				  </div>
				<!-- Card 1 -->
				<div class="carousel-card">
					<div class="card-image">
						<div class="image-overlay">
							<a href="/projects/68150486c4ce0553bc837dd6">View Project →</a>
						  </div>
						<img src="/images/Projects/1.png" alt="Cardboard Furniture">
					</div>
					<div class="card-content">
					  <h4>Ocean-Inspired Mason Jar Lantern</h4>
					  <div class="project-meta">
						<span class="duration">3-4 hours</span>
						<span class="level beginner">Hard</span>
					  </div>
					</div>
				  </div>
				<!-- Card 2 -->
				<div class="carousel-card">
					<div class="card-image">
						<div class="image-overlay">
							<a href="/projects/6815470d90e36167c9988f36">View Project →</a>
						  </div>
						<img src="/images/Projects/3.png" alt="Cardboard Furniture">
					</div>
					<div class="card-content">
					  <h4>Rustic Bottle Vase and Tin Candle Holder</h4>
					  <div class="project-meta">
						<span class="duration">2-3 hours</span>
						<span class="level beginner">Intermediate</span>
					  </div>
					</div>
				  </div>
				<!-- Card 3 -->
				<div class="carousel-card">
					<div class="card-image">
						<div class="image-overlay">
							<a href="/projects/681545f590e36167c9988f2f">View Project →</a>
						  </div>
						<img src="/images/Projects/2.png" alt="Cardboard Furniture">
					</div>
					<div class="card-content">
					  <h4>Starlit Tin Can Lanterns</h4>
					  <div class="project-meta">
						<span class="duration">3-4 hours</span>
						<span class="level beginner">Hard</span>
					  </div>
					</div>
				  </div>
				<!-- Duplicate cards for infinite loop -->
				 <div class="carousel-card">
					<div class="card-image">
						<div class="image-overlay">
							<a href="/projects/681512849fd55821c9e3779f">View Project →</a>
						  </div>
						<img src="/images/Projects/4.png" alt="Cardboard Furniture">
					</div>
					<div class="card-content">
					  <h4>Hanging Mini Planter Trio Cups</h4>
					  <div class="project-meta">
						<span class="duration">1-2 hours</span>
						<span class="level beginner">Easy</span>
					  </div>
					</div>
				  </div>
				<!-- Card 1 -->
				<div class="carousel-card">
					<div class="card-image">
						<div class="image-overlay">
							<a href="/projects/68150486c4ce0553bc837dd6">View Project →</a>
						  </div>
						<img src="/images/Projects/1.png" alt="Cardboard Furniture">
					</div>
					<div class="card-content">
					  <h4>Ocean-Inspired Mason Jar Lantern</h4>
					  <div class="project-meta">
						<span class="duration">3-4 hours</span>
						<span class="level beginner">Hard</span>
					  </div>
					</div>
				  </div>
				<!-- Card 2 -->
				<div class="carousel-card">
					<div class="card-image">
						<div class="image-overlay">
							<a href="/projects/6815470d90e36167c9988f36">View Project →</a>
						  </div>
						<img src="/images/Projects/3.png" alt="Cardboard Furniture">
					</div>
					<div class="card-content">
					  <h4>Rustic Bottle Vase and Tin Candle Holder</h4>
					  <div class="project-meta">
						<span class="duration">2-3 hours</span>
						<span class="level beginner">Intermediate</span>
					  </div>
					</div>
				  </div>
				<!-- Card 3 -->
				<div class="carousel-card">
					<div class="card-image">
						<div class="image-overlay">
							<a href="/projects/681545f590e36167c9988f2f">View Project →</a>
						  </div>
						<img src="/images/Projects/2.png" alt="Cardboard Furniture">
					</div>
					<div class="card-content">
					  <h4>Starlit Tin Can Lanterns</h4>
					  <div class="project-meta">
						<span class="duration">3-4 hours</span>
						<span class="level beginner">Hard</span>
					  </div>
					</div>
				  </div>

			</div>
		</div>
	</div>
 </section>

 <section id="blog" class="p_3 bg-light">
	<div class="container-xl">
	  <div class="row blog_1">
		<div class="col-md-8 d-flex flex-column min-vh-100">
		  <div class="blog_1l flex-grow-1">

			<div class="dropdown-wrapper d-flex justify-content-end align-items-center mb-4">
				<label for="sortSelect" class="me-2 fw-semibold text-muted">Sort by:</label>
				<select id="sortSelect" class="form-select w-auto sort-dropdown">
				  <option value="newest" <%= currentSort === 'newest' ? 'selected' : '' %>>Newest</option>
				  <option value="oldest" <%= currentSort === 'oldest' ? 'selected' : '' %>>Oldest</option>
				  <option value="most-liked" <%= currentSort === 'most-liked' ? 'selected' : '' %>>Most Liked</option>
				</select>
			  </div>
			  
			  
					  
			<% if (posts.length > 0) { %>
			  <div class="row">
				<% posts.forEach(post => { %>
				  <div class="col-md-6 mb-4 d-flex">
					  <div class="card">
						<div class="card-image">
							<i class="<%= currentUser && currentUser.favorites && currentUser.favorites.includes(post._id.toString()) ? 'fas active' : 'far' %> fa-star favorite-icon"
								data-post-id="<%= post._id %>"></i>							 
						  <img src="<%= post.image %>" alt="<%= post.name %>">
						  <div class="image-overlay">
							<a href="/projects/<%= post._id %>">View Project →</a>
						  </div>
						</div>
  
						<div class="notification">This item is saved in your favorites</div>
  
						<div class="card-content">
						  <div class="card-meta">
							<span class="tag"><%= post.mainmaterials?.[0].split('_') || 'DIY' %></span>
							<span class="date">Apr 28, 2025</span>
							<div class="divider"></div>
							<div class="author">
							  <img src="https://randomuser.me/api/portraits/lego/6.jpg" alt="Author" class="author-img">
							  <span>El mksiki</span>
							</div>
						  </div>
						  <h2 class="card-title"><%= post.name %></h2>
						  <hr class="content-divider">
						  <div class="card-footer">
							<div class="thumb-actions">
								<div class="thumb">
								  <i class="<%= currentUser && currentUser.likes && currentUser.likes.includes(post._id.toString()) ? 'fas active' : 'far' %> fa-thumbs-up like-icon"
									 data-post-id="<%= post._id %>"></i>
									 <span><%= post.likesCount || 0 %></span>
								</div>
								<div class="thumb">
								  <i class="<%= currentUser && currentUser.dislikes && currentUser.dislikes.includes(post._id.toString()) ? 'fas active' : 'far' %> fa-thumbs-down dislike-icon"
									 data-post-id="<%= post._id %>"></i>
									 <span><%= post.dislikesCount || 0 %></span>
								</div>
							  </div>
						  </div>
						</div>
					  </div>
				  </div>
				<% }) %>
			  </div>
			<% } else { %>
			  <div class="text-center p-5 bg-white rounded shadow-sm">
				<h4 class="text-danger mb-3">😢 Sorry!</h4>
				<p class="text-muted">We couldn't find any blog posts matching this material.</p>
				<p class="text-muted">Try selecting another tag from the list or clearing the filter.</p>
			  </div>
			<% } %>
  
			
			<div class="d-flex justify-content-center pagination-wrapper mb-5">
			  <ul class="pagination mb-0">
				<% if (currentPage > 1) { %>
				  <li class="page-item">
					<a class="page-link" href="#" data-page="<%= currentPage - 1 %>">
					  <i class="fa fa-chevron-left"></i>
					</a>
				  </li>
				<% } %>
  
				<% for (let i = 1; i <= totalPages; i++) { %>
				  <li class="page-item <%= currentPage === i ? 'active' : '' %>">
					<a class="page-link" href="#" data-page="<%= i %>"><%= i %></a>
				  </li>
				<% } %>
  
				<% if (currentPage < totalPages) { %>
				  <li class="page-item">
					<a class="page-link" href="#" data-page="<%= currentPage + 1 %>">
					  <i class="fa fa-chevron-right"></i>
					</a>
				  </li>
				<% } %>
			  </ul>
			</div>
		  </div>
		</div>
		
	      <div class="col-md-4">
			<div id="sidebar-container"></div>
			<aside class="blog-sidebar" id="sticky-sidebar">		  
			<!-- Search -->
			<div class="widget search-widget">
				<h3><span class="icon">🔎</span> Search</h3>
				<div class="search-bar position-relative">
				  <input type="text" id="top-search-input" placeholder="Search Projects..." />
				  <!-- Clear Button - Remove inline style -->
				  <svg id="clear-search-btn" class="clear-icon hidden" viewBox="0 0 24 24" fill="none">
					<path d="M6 6L18 18M6 18L18 6" stroke="#ff4d4d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
				  </svg>
				  <svg id="top-search-btn" class="search-icon" viewBox="0 0 24 24" fill="none">
					<path d="M21 21L15 15M17 10A7 7 0 1 1 3 10a7 7 0 0 1 14 0Z" stroke="#22c55e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
				  </svg>
				</div>
			  </div>
			  
			<!-- Recommended Section -->
<div class="widget">
	<h3><span class="icon">🌟</span> Recommended For You</h3>
	
	<% if (recommendedProjects && recommendedProjects.length > 0) { %>
	  <% recommendedProjects.forEach(project => { %>
		<a href="/projects/<%= project._id %>" class="post-card-link">
			<div class="post-card">
			  <img src="<%= project.image || '/images/placeholder-project.png' %>" alt="<%= project.name %>" />
			  <div class="post-info">
				<p class="title"><%= project.name %></p>
				<span class="date">
				  <%= project.createdAt.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }) %>
				</span>
			  </div>
			</div>
		  </a>
	  <% }); %>
	<% } %>
  </div>
			<!-- Tags -->
			<div class="widget">
			  <h3><span class="icon">🏷️</span> Tags</h3>
			  <div class="tags">
				<button class="tag-filter" data-tag="plastic_bottle">Plastic Bottle</button>
				<button class="tag-filter" data-tag="glass_bottle">Glass Bottle</button>
				<button class="tag-filter" data-tag="aluminum_soda_can">Tin Can</button>
				<button class="tag-filter" data-tag="paper">Paper</button>
				<button class="tag-filter" data-tag="fabric">Fabric</button>
				<button class="tag-filter" data-tag="plastic_food_container">Containers</button>
				<button class="tag-filter" data-tag="glass_jar">Glass Jar</button>
				<button class="tag-filter" data-tag="cardboard">Cardboard</button>
			  </div>
			  <button id="clear-filter" class="clear-btn d-none">✖ Clear Filter</button>
			</div>
		</aside>
	</div>
		  </div>
	   </div>
	 </div>
 </div>   
</section>
    
<%-include('partials/footer')%> 
<script>
	document.addEventListener("DOMContentLoaded", function() {
	  const backgroundSection = document.querySelector(".center_blog");
	  const image = new Image();
	  image.src = "/images/Blog_img1.jpg";
	  image.onload = function() {
		backgroundSection.style.backgroundImage = `url(${image.src})`;
		backgroundSection.style.transition = "background 0.5s ease-out";
	  };
	});
  </script>
  
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="/js/projects-filter.js"></script>
</body>
</html>